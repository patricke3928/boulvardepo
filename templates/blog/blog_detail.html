{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ post.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        body { margin:0; font-family:'Poppins',sans-serif; background:#0b0b0b; color:white; }
        canvas { position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; }
        .navbar { display:flex; justify-content:flex-end; gap:15px; padding:20px 50px; background:rgba(255,255,255,0.08); backdrop-filter:blur(12px); }
        .navbar a { color:white; text-decoration:none; padding:8px 16px; border-radius:8px; transition:0.3s; }
        .navbar a:hover { background: rgba(255,255,255,0.15); }
        .content { width:90%; max-width:800px; margin:60px auto; word-wrap: break-word; line-height:1.6; }
        .content h1 { font-size:28px; margin-bottom:20px; }
        .content p { color:#d0d0d0; margin-bottom:15px; }
        video, img { width:100%; border-radius:12px; margin-top:20px; }
    </style>
</head>
<body>
    <canvas id="bgCanvas"></canvas>
    <div class="navbar">
        <a href="{% url 'users:profile' %}">Profile</a>
        <a href="{% url 'users:logout' %}">Logout</a>
        <a href="{% url 'blog:list' %}">Blog</a>
    </div>

    <div class="content">
        <h1>{{ post.title }}</h1>

        {% if post.preview_image %}
        <img src="{{ post.preview_image.url }}" alt="Preview Image">
        {% endif %}

        <p>{{ post.description }}</p>

        {% if post.video_url %}
        <video controls>
            <source src="{{ post.video_url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        {% elif post.video_file %}
        <video controls>
            <source src="{{ post.video_file.url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        {% endif %}
    </div>

    <script>
        const c = document.getElementById('bgCanvas'), ctx = c.getContext('2d');
        c.width = innerWidth; c.height = innerHeight;
        const ps = Array.from({length:80},()=>({x:Math.random()*c.width,y:Math.random()*c.height,dx:(Math.random()-0.5),dy:(Math.random()-0.5),r:1+Math.random()*2}));
        (function anim(){
            ctx.clearRect(0,0,c.width,c.height);
            ps.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fillStyle="rgba(255,255,255,0.6)";ctx.fill(); p.x+=p.dx; p.y+=p.dy; if(p.x<0||p.x>c.width)p.dx*=-1; if(p.y<0||p.y>c.height)p.dy*=-1;});
            requestAnimationFrame(anim)
        })();
    </script>
</body>
</html>
    